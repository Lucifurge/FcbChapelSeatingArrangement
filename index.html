<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Chapel Style Seating</title>
<style>
body {
  font-family: Arial, sans-serif;
  background: #f4f4f4;
  margin: 0;
  padding: 0;
  text-align: center;
}

h1 {
  margin-top: 20px;
  font-size: 1.6rem;
  color: #1b5e20;
}

#nameInput {
  margin-top: 15px;
  padding: 8px;
  width: 200px;
  border-radius: 6px;
  border: 1px solid #aaa;
}

#message {
  margin-top: 10px;
  font-weight: bold;
  color: #333;
}

#grid {
  position: relative;
  width: 100%;
  height: 600px;
  margin-top: 40px;
}

.seat {
  position: absolute;
  padding: 8px 6px;
  font-size: 0.72rem;
  min-width: 28px;
  max-width: 32px;
  border-radius: 8px;
  text-align: center;
  cursor: pointer;
  font-weight: bold;
  color: white;
  background: #43a047;
  box-shadow: 0 2px 5px rgba(0,0,0,0.22);
  transition: transform 0.15s ease, box-shadow 0.15s ease;
}

.seat:hover {
  transform: scale(1.05);
  box-shadow: 0 3px 8px rgba(0,0,0,0.28);
}

.gold {
  background: linear-gradient(135deg, #ffd700, #ffb300);
  color: #333;
}

.green {
  background: linear-gradient(135deg, #4caf50, #2e7d32);
  color: white;
}

.reserved {
  background: #9e9e9e !important;
  cursor: not-allowed;
  color: #fff !important;
}

#stage {
  margin-top: 20px;
  font-size: 1.3rem;
  font-weight: bold;
  color: #1b5e20;
}
</style>
</head>
<body>

<h1>Chapel Style Seating</h1>
<input id="nameInput" placeholder="Enter your name">
<div id="message"></div>
<div id="grid"></div>
<div id="stage">STAGE</div>

<script>
const rows = 12; // Aâ€“L
let reservations = {};
const grid = document.getElementById("grid");

function buildSeats() {
  grid.innerHTML = "";
  const centerX = grid.offsetWidth / 2;
  const centerY = 100; // top of semicircle
  const radiusStep = 35; // distance between rows

  for (let r = 0; r < rows; r++) {
    const isGold = r < 6;
    const seatsInRow = isGold ? 18 : 24;
    const groupSize = isGold ? 6 : 4;
    const rowRadius = radiusStep * (r + 1); // smaller radius for front, larger for back

    for (let i = 0; i < seatsInRow; i++) {
      const angleRange = Math.PI / 1.6; // semicircle span
      const startAngle = Math.PI - angleRange/2; // left end
      const angle = startAngle + (angleRange / (seatsInRow-1)) * i;

      const x = centerX + rowRadius * Math.cos(angle) - 16; // center adjustment
      const y = centerY + rowRadius * Math.sin(angle) - 16; // upward opening U

      const id = String.fromCharCode(65+r) + (i+1);
      const seat = document.createElement("div");
      seat.className = "seat";
      seat.classList.add(isGold ? "gold" : "green");
      seat.textContent = id;
      seat.style.left = x + "px";
      seat.style.top = y + "px";

      if (reservations[id]) seat.classList.add("reserved");

      seat.onclick = () => reserveSeat(id);
      grid.appendChild(seat);
    }
  }
}

function reserveSeat(id) {
  const name = document.getElementById("nameInput").value.trim();
  if (!name) {
    showMessage("Please enter your name first.");
    return;
  }
  if (reservations[id]) {
    showMessage("Seat is already reserved.");
    return;
  }
  reservations[id] = { name, time: new Date().toLocaleString() };
  showMessage(`Seat ${id} reserved successfully.`);
  buildSeats();
}

function showMessage(msg) {
  document.getElementById("message").textContent = msg;
}

// rebuild seats when window resizes
window.addEventListener("resize", buildSeats);

buildSeats();
</script>

</body>
</html>
