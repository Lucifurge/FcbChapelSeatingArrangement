<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Seating Layout</title>

<style>
  body {
    font-family: Arial, sans-serif;
    background: #f4f4f4;
    margin: 0;
    padding: 0;
    text-align: center;
  }

  h1 {
    margin-top: 20px;
    font-size: 1.4rem;
  }

  /* GRID CENTER + FAN SHAPE SUPPORT */
  #grid {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 22px;
    padding-top: 30px;
    position: relative;
  }

  /* Curved rows */
  .curved-row {
    display: flex;
    justify-content: center;
    align-items: center;
    transform: rotate(var(--angle));
    transform-origin: bottom center;
  }

  /* Seat row compact spacing */
  .seat-row {
    display: flex;
    gap: 10px;
    align-items: center;
    justify-content: center;
  }

  /* SEAT BOX STYLE — SMALLER, CLEAN, UNIFORM */
  .seat {
    padding: 8px 5px;
    font-size: 0.72rem;
    min-width: 30px;
    max-width: 32px;
    border-radius: 8px;
    text-align: center;
    cursor: pointer;
    font-weight: bold;
    color: white;
    background: #43a047; /* default green (lower rows) */
    box-shadow: 0 2px 5px rgba(0,0,0,0.22);
    flex-shrink: 0;
    transition: transform 0.15s ease, box-shadow 0.15s ease;
  }

  .seat:hover {
    transform: scale(1.05);
    box-shadow: 0 3px 8px rgba(0,0,0,0.28);
  }

  /* Reserved seats */
  .reserved {
    background: #d32f2f !important;
  }

  /* Spacers for 6-6-6 and 4-4-4-4-4-4 */
  .spacer {
    width: 40px;
  }

  /* Row label A, B, C, etc. */
  .row-label {
    font-weight: bold;
    margin-right: 6px;
    font-size: 0.9rem;
    width: 18px;
    text-align: right;
  }

  /* Input box */
  #nameInput {
    margin-top: 15px;
    padding: 8px;
    width: 200px;
    border-radius: 6px;
    border: 1px solid #aaa;
  }

  #message {
    margin-top: 10px;
    font-weight: bold;
    color: #333;
  }

  /* Stage label */
  #stage {
    margin-top: 20px;
    font-size: 1.2rem;
    font-weight: bold;
    color: #1b5e20;
  }

</style>
</head>

<body>

<h1>Seating Layout</h1>

<input id="nameInput" placeholder="Enter your name">
<div id="message"></div>

<div id="grid"></div>

<div id="stage">STAGE</div>

<script>
const rows = 12; // A–L
let reservations = {};

/* BUILD SEATS */
function buildSeats() {
  const gridEl = document.getElementById("grid");
  gridEl.innerHTML = "";

  for (let r = 0; r < rows; r++) {
    const rowEl = document.createElement("div");
    rowEl.className = "seat-row curved-row";

    // Curved angle: center is row 6
    const angle = (r - 5.5) * 3.2;
    rowEl.style.setProperty("--angle", angle + "deg");

    // Vertical arc spacing
    rowEl.style.marginTop = `${Math.abs(r - 5.5) * 8}px`;

    const rowLetter = String.fromCharCode(65 + r);

    // Add row label (A–L)
    const label = document.createElement("div");
    label.className = "row-label";
    label.textContent = rowLetter;
    rowEl.appendChild(label);

    let seatsInRow;
    let groupSize;

    if (r < 6) {
      // A–F = 18 seats, gold
      seatsInRow = 18;
      groupSize = 6;
    } else {
      // G–L = 24 seats, green
      seatsInRow = 24;
      groupSize = 4;
    }

    /* BUILD SEATS + SPACERS */
    for (let i = 0; i < seatsInRow; i++) {
      const seat = document.createElement("div");
      seat.className = "seat";

      if (r < 6) {
        seat.style.background = "#c8a600";
      }

      const seatNumber = i + 1;
      const seatId = rowLetter + seatNumber;

      seat.textContent = seatId;

      if (reservations[seatId]) {
        seat.classList.add("reserved");
      }

      seat.onclick = () => reserveSeat(seatId);
      rowEl.appendChild(seat);

      if ((i + 1) % groupSize === 0 && i + 1 !== seatsInRow) {
        const spacer = document.createElement("div");
        spacer.className = "spacer";
        rowEl.appendChild(spacer);
      }
    }

    gridEl.appendChild(rowEl);
  }
}

function reserveSeat(id) {
  const name = document.getElementById("nameInput").value.trim();

  if (!name) {
    showMessage("Please enter your name first.");
    return;
  }

  if (reservations[id]) {
    showMessage("Seat is already reserved.");
    return;
  }

  reservations[id] = {
    name: name,
    time: new Date().toLocaleString()
  };

  showMessage(`Seat ${id} reserved successfully.`);
  buildSeats();
}

function showMessage(msg) {
  document.getElementById("message").textContent = msg;
}

buildSeats();
</script>

</body>
</html>
